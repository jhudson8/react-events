/*!
 * [react-events](https://github.com/jhudson8/react-events) v0.4.0;  MIT license; Joe Hudson<joehud_AT_gmail.com>
 */
!function(n){"function"==typeof define&&define.amd?define(["react"],n):"undefined"!=typeof exports&&"undefined"!=typeof require?module.exports=function(t){n(t)}:n(React)}(function(n){function t(a,f,u,c){if(!c){var s,l=f;if("object"==typeof f&&(l=f.callback.call(this)),"string"==typeof f&&(s=o.indexOf(f)>=0,l=u[f]),!l)throw'no callback function exists for "'+f+'"';f=function(){return l.apply(u,s?[]:arguments)}}var h=a.match(r);if(h){var d=h[1],p=h[2].split(/\s*,\s*/),v=h[3],m=n.events.specials[d];if(m)return 1===p.length&&""===p[0]&&(p=[]),f=m.call(u,f,p),t(v,f,u,!0);throw new Error('invalid special event handler "'+d+"'")}var g=a.match(i),y=g[1];if(handler=e[y],path=g[2],!handler)throw'no handler registered for "'+a+'"';return handler.call(u,{path:path},f)}var e={},i=/^([^:]+):?(.*)/,r=/^\*([^\(]+)\(([^)]*)\):(.*)/,o=["forceUpdate"],a={standard:function(n){var t={on:n.onKey||"on",off:n.offKey||"off"},e=n.target;return function(i,r){function o(n,i){return function(){var o="function"==typeof e?e.call(i,a):e;o&&o[t[n]](a,r)}}var a=i.path;return{on:o("on",this),off:o("off",this),initialize:n.initialize}}}},f=n.events={specials:{},handle:function(n,t){"function"!=typeof t&&(t=a[t.type||"standard"](t)),e[n]=t}};"undefined"!=typeof window&&f.handle("window",{target:window,onKey:"addEventListener",offKey:"removeEventListener"}),f.handle("ref",function(n,t){var e=n.path.match(i),r=e[1],o=e[2];return{on:function(){var n=this.refs[r];n&&n.on(o,t)},off:function(){var n=this.refs[r];n&&n.off(o,t)}}}),f.handle("dom",function(n,t){var e=n.path.match(i);return{on:function(){$(this.getDOMNode()).on(e[1],e[2],t)},off:function(){$(this.getDOMNode()).off(e[1],e[2],t)}}}),f.handle("repeat",function(n,t){var e,i=parseInt(n.path,10);return{on:function(){e=setInterval(t,i)},off:function(){e=!!clearInterval(e)}}}),f.handle("!repeat",function(n,t){function e(n){n!==!0&&t(),setTimeout(function(){i&&requestAnimationFrame(e)},r)}var i,r=parseInt(n.path,10);return{on:function(){i=!0,e(!0)},off:function(){i=!1}}}),n.mixins.add("events",function(){function n(n,t){return function(){n.apply(t,arguments)}}var e=[{getInitialState:function(){var n=this._eventHandlers=[];if(this.events){var e;for(var i in this.events)e=t(i,this.events[i],this),e.initialize&&e.initialize.call(this),n.push(e)}return null},componentDidMount:function(){for(var n=this._eventHandlers,t=0;t<n.length;t++)n[t].on.call(this)},componentWillUnmount:function(){for(var n=this._eventHandlers,t=0;t<n.length;t++)n[t].off.call(this)}}];if(f.mixin){var i={},r={};for(var o in f.mixin)i[o]=n(f.mixin[o],r);i.getInitialState=function(){return{__events:r}},e.push(i)}return e}),n.mixins.add("triggerWith",{triggerWith:function(){var n=Array.prototype.slice.call(arguments),t=this;return function(){t.trigger.apply(this,n)}}})});